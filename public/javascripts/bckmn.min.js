/*! bckmn v1.0.0 21-01-2014 */
function dismissAlert(a){a.innerHTML=""}function openStrip(a){document.body.style.background="rgba(0,0,0,0.8)",classie.add(document.getElementsByTagName("main")[0],"lightboxed");var b=document.getElementsByClassName("lightbox")[0],c=560;b.style.height=c.toString()+"px",scrollTo(window,c-(window.innerHeight-document.getElementById("content").clientHeight),1250),loadImages(imageSrc,document.getElementById("strip"),images[a],function(){var b=document.getElementsByClassName("gallery-image"),c=3.5,d=0;if(b.length==images[a].length){for(i=0;i<b.length;i++)d+=b[i].offsetWidth+2*c;d=d<window.innerWidth?window.innerWidth:d,document.getElementsByClassName("gallery")[0].style.width=d.toString()+"px"}})}function loadImages(a,b,c,d){for(b.innerHTML="",i=0;i<c.length;i++){var e=create("li",{});c[i].src?e.appendChild(create("img",{className:"gallery-image",src:a+c[i].src,alt:c[i].alt,onload:d,title:c[i].alt})):e.appendChild(create("p",{className:"gallery-image lead",onload:d,innerText:c[i].text})),b.appendChild(e)}}function on_resize(a,b){return onresize=function(){clearTimeout(b),b=setTimeout(a,100)},a}!function(a){"use strict";function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")});var g={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c};"function"==typeof define&&define.amd?define(g):a.classie=g}(window),function(a,b){a.gatrack=a.gatrack||{action:function(b,c,d,e,f,g){var h="success",i=parseInt(f||0,10);try{a.ga("send","event",c,d,e,i)}catch(j){try{a._gaq.push(["_trackEvent",c,d,e,i])}catch(k){h=k}}g&&g(h)},link:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Link Event",h=c||a.dataset.gatrackAction||a.href||a.title||a.id,i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;!h&&a.target&&"_self"!=a.target?h="Outbound Link":h||(h="Internal Link"),a.addEventListener("click",f,!1)},click:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Click Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified click",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("click",f,!1)},scrollAt:function(a,c,d,e,f,g,h){function i(){var b;b="y"==l?this.scrollY+this.clientHeight:this.scrollX+this.clientWidth,b>j&&gatrack.action(a,m,n,o,p)}var j,k=c||a.dataset.gatrackScrollPoint,l=d||a.dataset.gatrackScrollDirection||"y",m=e||a.dataset.gatrackCategory||"Scroll Event",n=f||a.dataset.gatrackAction||a.title||a.id||b.getElementsByTagName("title")[0].textContent||k,o=g||a.dataset.gatrackLabel||l,p=h||a.dataset.gatrackValue;"%"==k.slice(-1)?j=p=("y"==l?a.clientHeight:a.clientWidth)*parseInt(k.slice(0,k.length-2))/100:"px"==k.slice(-2)&&(j=p=parseInt(k.slice(0,k.length-3))),a.addEventListener("scroll",i,!1)},hover:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Hover Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified hover",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("mouseover",f,!1)},touch:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Touch Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified touch",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("touchstart",f,!1)},load:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Load Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified load",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("load",f,!1)},init:function(){var a,c=b.getElementsByClassName("ga-link-trackable"),d=b.getElementsByClassName("ga-load-trackable"),e=b.getElementsByClassName("ga-scroll-trackable"),f=b.getElementsByClassName("ga-hover-trackable"),g=b.getElementsByClassName("ga-touch-trackable"),h=b.getElementsByClassName("ga-click-trackable");for(a=c.length-1;a>=0;a--)gatrack.link(c[a]);for(a=d.length-1;a>=0;a--)gatrack.load(d[a]);for(a=e.length-1;a>=0;a--)gatrack.scrollAt(e[a]);for(a=f.length-1;a>=0;a--)gatrack.hover(f[a]);for(a=g.length-1;a>=0;a--)gatrack.touch(g[a]);for(a=h.length-1;a>=0;a--)gatrack.click(h[a])}},a.gatrack.init()}(this,this.document);var searchField=document.getElementById("search-field"),searchSubmit=document.getElementById("search-submit");searchField&&(searchSubmit&&(searchSubmit.onclick=function(){window.location=window.location.origin+"/search?q="+searchField.value}),searchField.onkeydown=function(a){13==a.keyCode&&(window.location=window.location.origin+"/search?q="+searchField.value)}),function(){var a=document.getElementsByClassName("day"),b=0,c=a.length,d=new Date,e=d.getHours();if(e>19||7>e)for(;c>b;b++)a[b].className+=" night"}();var create=function(a,b){var c=document.createElement(a);for(var d in b)if("object"==typeof b[d])for(var e in b[d])c[d][e]=b[d][e];else c[d]=b[d];return c};window.scrollTo=function(a,b,c){var d=a.scrollY,e=b-d,f=0,g=20,h=function(){f+=g;var b=Math.easeInOutQuad(f,d,e,c);a.scroll(0,b),c>f&&setTimeout(h,g)};h()},Math.easeInOutQuad=function(a,b,c,d){return a/=d/2,1>a?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b)},function(){function a(){return function(){f()}}var b,c=document.getElementById("cbp-spmenu-right"),d=document.getElementsByClassName("menu-toggle-button"),e=document.getElementById("main-menu-button"),f=function(){for(i=0;i<d.length;i++)classie.toggle(d[i],"active");classie.toggle(c,"cbp-spmenu-open"),e&&classie.toggle(e,"menu-open")};for(e&&(c.onmouseout=function(){b=window.setTimeout(f,500)},c.onmouseover=function(){window.clearTimeout(b)},e.onclick=function(){f()}),i=0;i<d.length;i++)d[i].onclick=a()}(),window.jshBckmn=window.jshBckmn||{},window.jshBckmn.setRandomThought=function(a){a.textContent=jshBckmn.thoughts[Math.floor(Math.random()*jshBckmn.thoughts.length)]+".",a.style.opacity="0.9"},function(a,b){var c=b.getElementsByClassName("post-date"),d=b.getElementsByClassName("blog-post-title");c.length>0&&d.length>0&&(d[0].onmouseover=function(){classie.add(c[0],"date-fadeIn")},d[0].onmouseout=function(){classie.remove(c[0],"date-fadeIn")})}(this,this.document),document.getElementById("thoughtBubble")&&(setTimeout(jshBckmn.setRandomThought,1e3,document.getElementById("thoughtBubble")),setInterval(function(){document.getElementById("thoughtBubble").style.opacity="0",setTimeout(jshBckmn.setRandomThought,1e3,document.getElementById("thoughtBubble"))},1e4)),function(a,b){function c(){return function(){scrollTo(a,b.getElementById("content").offsetTop,1e3),this.style.opacity="0",e.onmouseover=null}}function d(c){var d=b.getElementById("post-image-holder"),e=d.height/d.width,f=100*e;a.innerHeight<a.innerWidth*e?(c.style.height="100vh",c.style.paddingBottom=null):(c.style.height=null,c.style.paddingBottom=f.toString()+"%")}var e=b.getElementById("full-image"),f=b.getElementById("post-image-holder"),g=b.getElementsByClassName("scroll-post"),h=0;if(e)for(on_resize(function(){d(e)})(),f.onload=function(){e.style.backgroundImage="url("+this.src+")",d(e)},e.onmouseover=function(){for(h=0;h<g.length;h++)g[h].style.opacity="1"};h<g.length;h++)g[h].onclick=c()}(this,this.document),function(a,b){function c(a,b,c){var e=a;return function(){d(e,c,b)}}function d(a,b,c){var d=i?.01*i:1,e=c.width*d,f=c.height*d;a.drawImage(b,0,0,e,f),a.drawImage(c,0,0,e,f,0,0,c.width,c.height)}for(var e,f,g=b.getElementsByClassName("blog-image-canvas"),h=5,i=h,j=g.length-1;j>=0;j--)e=g[j].getContext("2d"),e.mozImageSmoothingEnabled=!1,e.webkitImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,f=new Image,f.onload=c(e,g[j],f),f.src=g[j].dataset.imageSrc;a.requestAnimationFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}()}(this,this.document);